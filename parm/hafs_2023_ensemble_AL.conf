[config]
RUN=hfsa
domlat=25.0
domlon=-60.0
vitalsdomlat=250N
vitalsdomlon=600W
fakestormid=00L
fakestormname=NATL
fakestormorg=NHC
fakestorm_vitals={fakestormorg} {fakestormid} {fakestormname} {YMD} {HH}{min} {vitalsdomlat} {vitalsdomlon} -99 -99 -999 -999 -099 -9 -99 -999 -999 -999 -999 M

#use GEFS input both IC abd BC
ictype=gefsgrib2ab_0p50
bctype=gefsgrib2ab_0p50

run_atm_mvnest=no
run_wave=no
ww3_model=ww3
run_ocean=no
ocean_model=hycom

run_atm_init=no
run_atm_init_fgat=no
run_atm_init_ens=no
run_atm_merge=no
run_atm_merge_fgat=no
run_atm_merge_ens=no
run_atm_vi=no
run_atm_vi_fgat=no
run_atm_vi_ens=no
run_gsi=no
gsi_d01=no
gsi_d02=no
run_analysis_merge=no
run_analysis_merge_ens=no
run_fgat=no
run_envar=no
run_ensda=no
run_enkf=no
ENS_SIZE=20
ENS_FCST_SIZE=10
GRID_RATIO_ENS=2

halo_blend=20

NHRS=120
NBDYHRS=6
NOUTHRS=6

[dir]
PARMforecast={PARMhafs}/forecast/regional

[grid]
CASE=C512            ;; FV3 resolution
LEVS=66              ;; Model vertical levels
gtype=regional       ;; grid type: uniform, stretch, nest, or regional
#gridfixdir=/let/hafs_grid/generate/grid
gridfixdir={HOMEhafs}/fix/fix_fv3/ESG_C512/grid_ens
stretch_fac=1.0001   ;; Stretching factor for the grid
target_lon={domlon}  ;; center longitude of the highest resolution tile
target_lat={domlat}  ;; center latitude of the highest resolution tile
nest_grids=1
parent_grid_num=1
parent_tile=6
refine_ratio=6
istart_nest=33
jstart_nest=153
iend_nest=992
jend_nest=872
regional_esg=yes
idim_nest=2880
jdim_nest=2160
delx_nest=0.015
dely_nest=0.015
halop2=10
pazi=-180.

[forecast]
all_tasks=192
atm_tasks=192
ocn_tasks=60
layoutx=15
layouty=12

dt_atmos=90
npx=1441
npy=1081
npz=65
k_split=2
n_split=5
layoutx=15
layouty=12
io_layoutx=1
io_layouty=1
full_zs_filter=.true.
n_zs_filter=1
n_del2_weak=15
max_slope=0.15
rlmx=300.
elmx=300.
sfc_rlm=1
tc_pbl=0
shal_cnv=.true.
do_deep=.true.
fhswr=1800.
fhlwr=1800.
iaer=1011
clam_deep=0.15

#stochastic physics related options
do_sppt=.true.
do_shum=.true.
do_skeb=.true.

# ccpp suites
ccpp_suite_regional=FV3_HAFS_v1_gfdlmp_tedmf_nonsst
ccpp_suite_glob=FV3_HAFS_v1_gfdlmp_tedmf_nonsst
ccpp_suite_nest=FV3_HAFS_v1_gfdlmp_tedmf_nonsst

# Choose nstf_name=0,0,0,0,0
nstf_n1=2
nstf_n2=1
nstf_n3=0
nstf_n4=0
nstf_n5=0

restart_interval="3 6 9"

quilting=.true.
write_groups=1
write_tasks_per_group=12
write_dopost=.false.
output_history=.true.

output_grid=regional_latlon
output_grid_cen_lon={domlon}         ;; central longitude
output_grid_cen_lat={domlat}         ;; central latitude
output_grid_lon_span=109.5        ;; output domain span for longitude in regular latlon coordinate system (in degrees)
output_grid_lat_span=81.6         ;; output domain span for latitude in regular latlon coordinate system (in degrees)
output_grid_dlon=0.03             ;; output grid spacing dlon . . . .
output_grid_dlat=0.03             ;; output grid spacing dlat . . . .

[atm_post]
satpost=.false.
post_gridspecs=auto,auto
trak_gridspecs={post_gridspecs}

[rocotostr]
FORECAST_RESOURCES=FORECAST_RESOURCES_1080PE
FORECAST_ENS_RESOURCES=FORECAST_RESOURCES_1080PE
